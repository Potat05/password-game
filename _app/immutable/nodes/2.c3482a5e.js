var Q=Object.defineProperty;var W=(t,e,s)=>e in t?Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var D=(t,e,s)=>(W(t,typeof e!="symbol"?e+"":e,s),s);import{s as q,f as M,g as C,h as I,d as g,j as b,i as F,A as X,y as H,B as S,p as J,a as y,c as $,x as m,C as ee,D as P,o as te,E as se,l as N,m as Y,n as R}from"../chunks/scheduler.02064b6c.js";import{S as G,i as K,f as re,b as ie,d as ne,m as ae,a as ue,t as le,e as oe}from"../chunks/index.0a48cf97.js";function A(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const de=!0,Fe=Object.freeze(Object.defineProperty({__proto__:null,prerender:de},Symbol.toStringTag,{value:"Module"}));var V=(t=>(t[t.None=0]="None",t[t.VeryLow=1]="VeryLow",t[t.Low=2]="Low",t[t.Medium=3]="Medium",t[t.High=4]="High",t[t.VeryHigh=5]="VeryHigh",t))(V||{});class j{constructor(e){D(this,"password");this.password=e}get ruleText(){return"unknown"}satisfies(){throw new Error("Unimplemented.")}}class he extends j{constructor(s,r,i){super(s);D(this,"minLength");D(this,"maxLength");this.minLength=r,this.maxLength=i}get ruleText(){return`Your password must be at least ${this.minLength} characters and at most ${this.maxLength} characters.`}satisfies(){return this.password.text.length>=this.minLength&&this.password.text.length<=this.maxLength?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:V.VeryHigh}}}class ce extends j{get ruleText(){return"Your password must include a number."}satisfies(){return/[0-9]/g.test(this.password.text)?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:V.Medium}}}class fe extends j{constructor(s,r){super(s);D(this,"number");this.number=r}get ruleText(){return`The digits in your password must add up to ${this.number}.`}satisfies(){let s=this.password.text.split("").map(Number).filter(r=>!Number.isNaN(r)).reduce((r,i)=>r+i,0);return s==this.number?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:V.Medium,message:`The digits in your password add up to ${s}, they must add up to ${this.number}`}}}function pe(t){return!Number.isNaN(t.getTime())}function me(t){let e=[];for(let s=0;s<t.length;s++)for(let r=s;r<=t.length;r++){const i=new Date(t.slice(s,r));pe(i)&&e.push(i)}return e}class ge extends j{get ruleText(){return"Your password must include todays date. (Based on your browsers locale.)"}constructor(e){super(e)}satisfies(){const e=new Date;return me(this.password.text).some(r=>r.getDate()==e.getDate()&&r.getMonth()==e.getMonth()&&r.getFullYear()==e.getFullYear())?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:V.VeryHigh}}}class we extends j{constructor(s,r,i){super(s);D(this,"excitingCharacters");D(this,"minExcitingCharacters");this.excitingCharacters=r,this.minExcitingCharacters=i}get ruleText(){return`Your password must be exciting${"!".repeat(this.minExcitingCharacters)}`}satisfies(){let s=0;for(let r=0;r<this.password.text.length;r++)this.excitingCharacters.includes(this.password.text[r])&&s++;return s>=this.minExcitingCharacters?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:V.VeryHigh,message:`${this.ruleText} (Must include at least ${this.minExcitingCharacters} exciting characters "${this.excitingCharacters.join("")}".)`}}}class _e extends j{constructor(s,r,i,l,h){super(s);D(this,"tempEmojis");D(this,"startTemp");D(this,"justRightTemp");D(this,"justRightTempMaxDist");this.tempEmojis=r,this.startTemp=i,this.justRightTemp=l,this.justRightTempMaxDist=h}get ruleText(){return"Your password temperature must be just right."}satisfies(){let s=this.startTemp;for(let i of this.password.text)s+=this.tempEmojis[i]??0;return Math.abs(s-this.justRightTemp)<=this.justRightTempMaxDist?{rule:this,satisfied:!0,message:"Your password temperature is just right. 🥣"}:s<this.justRightTemp?{rule:this,satisfied:!1,severity:V.High,message:"Your password temperature is too cold. 🥣🧊"}:{rule:this,satisfied:!1,severity:V.High,message:"Your password temperature is too hot. 🥣🔥"}}}class ve{constructor(){D(this,"text","")}}function xe(t){let e,s,r;return{c(){e=M("div"),this.h()},l(i){e=C(i,"DIV",{id:!0,spellcheck:!0,contenteditable:!0,class:!0}),I(e).forEach(g),this.h()},h(){b(e,"id","password-input"),b(e,"spellcheck","false"),b(e,"contenteditable",""),b(e,"class","svelte-pk6hts")},m(i,l){F(i,e,l),t[3](e),s||(r=X(e,"input",t[1]),s=!0)},p:H,i:H,o:H,d(i){i&&g(e),t[3](null),s=!1,r()}}}function Te(t,e,s){const r=S();let i,{password:l=new ve}=e;function h(){s(2,l.text=i.textContent??"",l),r("passwordchange")}function f(o){J[o?"unshift":"push"](()=>{i=o,s(0,i)})}return t.$$set=o=>{"password"in o&&s(2,l=o.password)},[i,h,l,f]}class be extends G{constructor(e){super(),K(this,e,Te,xe,q,{password:2})}}class Ee extends j{get ruleText(){return"Your password must include an uppercase character."}satisfies(){return/[A-Z]/g.test(this.password.text)?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:V.Medium}}}class De extends j{get ruleText(){return"Your password must include a special character."}satisfies(){for(const e of this.password.text)if(!/[a-zA-Z0-9]/.test(e)&&!/\p{Emoji_Presentation}/u.test(e))return{rule:this,satisfied:!0};return{rule:this,satisfied:!1,severity:V.Low}}}function B(t,e,s){const r=t.slice();return r[7]=e[s],r}function U(t,e,s){const r=t.slice();return r[7]=e[s],r}function z(t){let e,s="You win!";return{c(){e=M("div"),e.textContent=s,this.h()},l(r){e=C(r,"DIV",{id:!0,class:!0,["data-svelte-h"]:!0}),se(e)!=="svelte-16nacee"&&(e.textContent=s),this.h()},h(){b(e,"id","win-message"),b(e,"class","svelte-12m20hu")},m(r,i){F(r,e,i)},d(r){r&&g(e)}}}function O(t){let e,s,r,i=t[7].index+1+"",l,h,f,o=(t[7].message??t[7].rule.ruleText)+"",w,x;return{c(){e=M("div"),s=M("div"),r=N("Rule #"),l=N(i),h=y(),f=M("div"),w=N(o),x=y(),this.h()},l(u){e=C(u,"DIV",{class:!0});var a=I(e);s=C(a,"DIV",{class:!0});var _=I(s);r=Y(_,"Rule #"),l=Y(_,i),_.forEach(g),h=$(a),f=C(a,"DIV",{class:!0});var c=I(f);w=Y(c,o),c.forEach(g),x=$(a),a.forEach(g),this.h()},h(){b(s,"class","rule-password-num svelte-12m20hu"),b(f,"class","rule-password-msg svelte-12m20hu"),b(e,"class","rule not-satisfied svelte-12m20hu")},m(u,a){F(u,e,a),m(e,s),m(s,r),m(s,l),m(e,h),m(e,f),m(f,w),m(e,x)},p(u,a){a&2&&i!==(i=u[7].index+1+"")&&R(l,i),a&2&&o!==(o=(u[7].message??u[7].rule.ruleText)+"")&&R(w,o)},d(u){u&&g(e)}}}function Z(t){let e,s,r,i=t[7].index+1+"",l,h,f,o=(t[7].message??t[7].rule.ruleText)+"",w,x;return{c(){e=M("div"),s=M("div"),r=N("Rule #"),l=N(i),h=y(),f=M("div"),w=N(o),x=y(),this.h()},l(u){e=C(u,"DIV",{class:!0});var a=I(e);s=C(a,"DIV",{class:!0});var _=I(s);r=Y(_,"Rule #"),l=Y(_,i),_.forEach(g),h=$(a),f=C(a,"DIV",{class:!0});var c=I(f);w=Y(c,o),c.forEach(g),x=$(a),a.forEach(g),this.h()},h(){b(s,"class","rule-password-num svelte-12m20hu"),b(f,"class","rule-password-msg svelte-12m20hu"),b(e,"class","rule satisfied svelte-12m20hu")},m(u,a){F(u,e,a),m(e,s),m(s,r),m(s,l),m(e,h),m(e,f),m(f,w),m(e,x)},p(u,a){a&4&&i!==(i=u[7].index+1+"")&&R(l,i),a&4&&o!==(o=(u[7].message??u[7].rule.ruleText)+"")&&R(w,o)},d(u){u&&g(e)}}}function Me(t){let e,s,r,i,l,h,f,o,w;function x(n){t[4](n)}let u={};t[0]!==void 0&&(u.password=t[0]),e=new be({props:u}),J.push(()=>re(e,"password",x)),e.$on("passwordchange",t[3]);let a=t[1].length==0&&z(),_=A(t[1]),c=[];for(let n=0;n<_.length;n+=1)c[n]=O(U(t,_,n));let L=A(t[2]),p=[];for(let n=0;n<L.length;n+=1)p[n]=Z(B(t,L,n));return{c(){ie(e.$$.fragment),r=y(),a&&a.c(),i=y(),l=M("div"),h=M("div");for(let n=0;n<c.length;n+=1)c[n].c();f=y(),o=M("div");for(let n=0;n<p.length;n+=1)p[n].c();this.h()},l(n){ne(e.$$.fragment,n),r=$(n),a&&a.l(n),i=$(n),l=C(n,"DIV",{id:!0});var v=I(l);h=C(v,"DIV",{class:!0});var T=I(h);for(let E=0;E<c.length;E+=1)c[E].l(T);T.forEach(g),f=$(v),o=C(v,"DIV",{class:!0});var d=I(o);for(let E=0;E<p.length;E+=1)p[E].l(d);d.forEach(g),v.forEach(g),this.h()},h(){b(h,"class","rule-container"),b(o,"class","rule-container"),b(l,"id","password-rules")},m(n,v){ae(e,n,v),F(n,r,v),a&&a.m(n,v),F(n,i,v),F(n,l,v),m(l,h);for(let T=0;T<c.length;T+=1)c[T]&&c[T].m(h,null);m(l,f),m(l,o);for(let T=0;T<p.length;T+=1)p[T]&&p[T].m(o,null);w=!0},p(n,[v]){const T={};if(!s&&v&1&&(s=!0,T.password=n[0],ee(()=>s=!1)),e.$set(T),n[1].length==0?a||(a=z(),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null),v&2){_=A(n[1]);let d;for(d=0;d<_.length;d+=1){const E=U(n,_,d);c[d]?c[d].p(E,v):(c[d]=O(E),c[d].c(),c[d].m(h,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=_.length}if(v&4){L=A(n[2]);let d;for(d=0;d<L.length;d+=1){const E=B(n,L,d);p[d]?p[d].p(E,v):(p[d]=Z(E),p[d].c(),p[d].m(o,null))}for(;d<p.length;d+=1)p[d].d(1);p.length=L.length}},i(n){w||(ue(e.$$.fragment,n),w=!0)},o(n){le(e.$$.fragment,n),w=!1},d(n){n&&(g(r),g(i),g(l)),oe(e,n),a&&a.d(n),P(c,n),P(p,n)}}}function k(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function Ce(t,e,s){let r,i=[],l=[],h=[],f=[];function o(){let x=[];for(let u=0;u<i.length;u++){const _=i[u].satisfies();x.push({..._,index:u})}if(s(2,f=x.filter(u=>u.satisfied).sort((u,a)=>a.index-u.index)),s(1,h=x.filter(u=>!u.satisfied).sort((u,a)=>((a==null?void 0:a.severity)??99999+a.index)-((u==null?void 0:u.severity)??99999+u.index))),h.length==0&&l.length>0){const u=l.shift();if(u===void 0)throw new Error("Catastrophic error.");i.push(u),o()}}te(()=>{i=[new he(r,6,100)],l=[new Ee(r),new ce(r),new De(r),new fe(r,k(40,60)),new ge(r),new we(r,["!","?"],k(2,4)),new _e(r,{"🔥":30,"♨️":25,"🚀":100,"🪔":20,"🕯":10,"💦":-10,"💧":-3,"🌊":-50,"🧊":-30,"❄️":-5,"🌨":-40},21,k(80,100),5)],o()});function w(x){r=x,s(0,r)}return[r,h,f,o,w]}class ye extends G{constructor(e){super(),K(this,e,Ce,Me,q,{})}}export{ye as component,Fe as universal};
