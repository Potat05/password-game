var B=Object.defineProperty;var R=(t,e,s)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var C=(t,e,s)=>(R(t,typeof e!="symbol"?e+"":e,s),s);import{s as G,n as P,o as J,b as K}from"../chunks/scheduler.e108d1fd.js";import{S as Q,i as W,g as b,s as L,h as T,j as D,f as g,c as N,k as _,a as M,x as m,y as X,z as j,A as Z,m as E,n as y,o as k}from"../chunks/index.479ba947.js";function Y(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const S=!0,fe=Object.freeze(Object.defineProperty({__proto__:null,prerender:S},Symbol.toStringTag,{value:"Module"}));class ee{constructor(){C(this,"text","")}}var H=(t=>(t[t.None=0]="None",t[t.VeryLow=1]="VeryLow",t[t.Low=2]="Low",t[t.Medium=3]="Medium",t[t.High=4]="High",t[t.VeryHigh=5]="VeryHigh",t))(H||{});class U{constructor(e){C(this,"password");this.password=e}get ruleText(){return"unknown"}satisfies(){throw new Error("Unimplemented.")}}class te extends U{constructor(s,l){super(s);C(this,"minLength");this.minLength=l}get ruleText(){return`Your password must be at least ${this.minLength} characters.`}satisfies(){return this.password.text.length>=this.minLength?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:H.VeryHigh}}}class se extends U{get ruleText(){return"Your password must include a number."}satisfies(){return/[0-9]/g.test(this.password.text)?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:H.Medium}}}class le extends U{constructor(s,l){super(s);C(this,"number");this.number=l}get ruleText(){return`The digits in your password must add up to ${this.number}.`}satisfies(){let s=this.password.text.split("").map(Number).filter(l=>!Number.isNaN(l)).reduce((l,a)=>l+a,0);return s==this.number?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:H.Medium,message:`The digits in your password must add up to ${this.number}, not ${s}.`}}}function re(t){return!Number.isNaN(t.getTime())}function ne(t){let e=[];for(let s=0;s<t.length;s++)for(let l=s;l<=t.length;l++){const a=new Date(t.slice(s,l));re(a)&&e.push(a)}return e}class ie extends U{get ruleText(){return"Your password must include todays date. (Based on your browsers locale.)"}constructor(e){super(e)}satisfies(){const e=new Date;return ne(this.password.text).some(l=>l.getUTCDate()==e.getUTCDate()&&l.getUTCMonth()==e.getUTCMonth()&&l.getUTCFullYear()==e.getUTCFullYear())?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:H.VeryHigh}}}class ue extends U{constructor(s,l){super(s);C(this,"maxLength");this.maxLength=l}get ruleText(){return`Your password must be at most ${this.maxLength} characters.`}satisfies(){return this.password.text.length<=this.maxLength?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:H.VeryHigh}}}function A(t,e,s){const l=t.slice();return l[7]=e[s],l}function $(t,e,s){const l=t.slice();return l[7]=e[s],l}function z(t){let e,s="You win!";return{c(){e=b("div"),e.textContent=s,this.h()},l(l){e=T(l,"DIV",{id:!0,class:!0,["data-svelte-h"]:!0}),Z(e)!=="svelte-16nacee"&&(e.textContent=s),this.h()},h(){_(e,"id","win-message"),_(e,"class","svelte-1gtxmie")},m(l,a){M(l,e,a)},d(l){l&&g(e)}}}function F(t){let e,s,l,a=t[7].index+1+"",c,x,d,f=(t[7].message??t[7].rule.ruleText)+"",w,o;return{c(){e=b("div"),s=b("div"),l=E("Rule #"),c=E(a),x=L(),d=b("div"),w=E(f),o=L(),this.h()},l(n){e=T(n,"DIV",{class:!0});var r=D(e);s=T(r,"DIV",{class:!0});var p=D(s);l=y(p,"Rule #"),c=y(p,a),p.forEach(g),x=N(r),d=T(r,"DIV",{class:!0});var h=D(d);w=y(h,f),h.forEach(g),o=N(r),r.forEach(g),this.h()},h(){_(s,"class","rule-password-num svelte-1gtxmie"),_(d,"class","rule-password-msg svelte-1gtxmie"),_(e,"class","rule not-satisfied svelte-1gtxmie")},m(n,r){M(n,e,r),m(e,s),m(s,l),m(s,c),m(e,x),m(e,d),m(d,w),m(e,o)},p(n,r){r&2&&a!==(a=n[7].index+1+"")&&k(c,a),r&2&&f!==(f=(n[7].message??n[7].rule.ruleText)+"")&&k(w,f)},d(n){n&&g(e)}}}function O(t){let e,s,l,a=t[7].index+1+"",c,x,d,f=t[7].rule.ruleText+"",w,o;return{c(){e=b("div"),s=b("div"),l=E("Rule #"),c=E(a),x=L(),d=b("div"),w=E(f),o=L(),this.h()},l(n){e=T(n,"DIV",{class:!0});var r=D(e);s=T(r,"DIV",{class:!0});var p=D(s);l=y(p,"Rule #"),c=y(p,a),p.forEach(g),x=N(r),d=T(r,"DIV",{class:!0});var h=D(d);w=y(h,f),h.forEach(g),o=N(r),r.forEach(g),this.h()},h(){_(s,"class","rule-password-num svelte-1gtxmie"),_(d,"class","rule-password-msg svelte-1gtxmie"),_(e,"class","rule satisfied svelte-1gtxmie")},m(n,r){M(n,e,r),m(e,s),m(s,l),m(s,c),m(e,x),m(e,d),m(d,w),m(e,o)},p(n,r){r&4&&a!==(a=n[7].index+1+"")&&k(c,a),r&4&&f!==(f=n[7].rule.ruleText+"")&&k(w,f)},d(n){n&&g(e)}}}function ae(t){let e,s,l,a,c,x,d,f,w,o=t[1].length==0&&z(),n=Y(t[1]),r=[];for(let i=0;i<n.length;i+=1)r[i]=F($(t,n,i));let p=Y(t[2]),h=[];for(let i=0;i<p.length;i+=1)h[i]=O(A(t,p,i));return{c(){e=b("div"),s=L(),o&&o.c(),l=L(),a=b("div"),c=b("div");for(let i=0;i<r.length;i+=1)r[i].c();x=L(),d=b("div");for(let i=0;i<h.length;i+=1)h[i].c();this.h()},l(i){e=T(i,"DIV",{id:!0,contenteditable:!0,spellcheck:!0,class:!0}),D(e).forEach(g),s=N(i),o&&o.l(i),l=N(i),a=T(i,"DIV",{id:!0});var v=D(a);c=T(v,"DIV",{class:!0});var u=D(c);for(let I=0;I<r.length;I+=1)r[I].l(u);u.forEach(g),x=N(v),d=T(v,"DIV",{class:!0});var V=D(d);for(let I=0;I<h.length;I+=1)h[I].l(V);V.forEach(g),v.forEach(g),this.h()},h(){_(e,"id","password-input"),_(e,"contenteditable","true"),_(e,"spellcheck","false"),_(e,"class","svelte-1gtxmie"),_(c,"class","rule-container"),_(d,"class","rule-container"),_(a,"id","password-rules")},m(i,v){M(i,e,v),t[4](e),M(i,s,v),o&&o.m(i,v),M(i,l,v),M(i,a,v),m(a,c);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(c,null);m(a,x),m(a,d);for(let u=0;u<h.length;u+=1)h[u]&&h[u].m(d,null);f||(w=X(e,"input",t[3]),f=!0)},p(i,[v]){if(i[1].length==0?o||(o=z(),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null),v&2){n=Y(i[1]);let u;for(u=0;u<n.length;u+=1){const V=$(i,n,u);r[u]?r[u].p(V,v):(r[u]=F(V),r[u].c(),r[u].m(c,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=n.length}if(v&4){p=Y(i[2]);let u;for(u=0;u<p.length;u+=1){const V=A(i,p,u);h[u]?h[u].p(V,v):(h[u]=O(V),h[u].c(),h[u].m(d,null))}for(;u<h.length;u+=1)h[u].d(1);h.length=p.length}},i:P,o:P,d(i){i&&(g(e),g(s),g(l),g(a)),t[4](null),o&&o.d(i),j(r,i),j(h,i),f=!1,w()}}}function q(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function oe(t,e,s){let l=new ee,a=[new te(l,q(5,10)),new ue(l,100),new se(l),new le(l,q(40,60)),new ie(l)],c,x=[],d=[];function f(){l.text=c.innerText;let o=[];for(let n=0;n<a.length;n++){const p=a[n].satisfies();o.push({...p,index:n})}s(2,d=o.filter(n=>n.satisfied).sort((n,r)=>r.index-n.index)),s(1,x=o.filter(n=>!n.satisfied).sort((n,r)=>((r==null?void 0:r.severity)??99999+r.index)-((n==null?void 0:n.severity)??99999+n.index)))}J(()=>{f()});function w(o){K[o?"unshift":"push"](()=>{c=o,s(0,c)})}return[c,x,d,f,w]}class ge extends Q{constructor(e){super(),W(this,e,oe,ae,G,{})}}export{ge as component,fe as universal};
