var P=Object.defineProperty;var j=(s,e,l)=>e in s?P(s,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[e]=l;var T=(s,e,l)=>(j(s,typeof e!="symbol"?e+"":e,l),l);import{s as A,n as y,o as $,b as F}from"../chunks/scheduler.e108d1fd.js";import{S as O,i as B,g as v,s as z,e as C,h as x,j as D,f,c as q,k as g,a as b,y as R,x as m,z as I,A as G,m as _,n as w,o as N}from"../chunks/index.479ba947.js";function L(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}const J=!0,oe=Object.freeze(Object.defineProperty({__proto__:null,prerender:J},Symbol.toStringTag,{value:"Module"}));class K{constructor(){T(this,"text","")}}var M=(s=>(s[s.None=0]="None",s[s.VeryLow=1]="VeryLow",s[s.Low=2]="Low",s[s.Medium=3]="Medium",s[s.High=4]="High",s[s.VeryHigh=5]="VeryHigh",s))(M||{});class V{constructor(e){T(this,"password");this.password=e}get ruleText(){return"unknown"}satisfies(){throw new Error("Unimplemented.")}}class Q extends V{constructor(l,n){super(l);T(this,"minLength");this.minLength=n}get ruleText(){return`Your password must be at least ${this.minLength} characters.`}satisfies(){return this.password.text.length>=this.minLength?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:M.VeryHigh}}}class W extends V{get ruleText(){return"Your password must include a number."}satisfies(){return/[0-9]/g.test(this.password.text)?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:M.Medium}}}class X extends V{constructor(l,n){super(l);T(this,"number");this.number=n}get ruleText(){return`The digits in your password must add up to ${this.number}.`}satisfies(){let l=this.password.text.split("").map(Number).filter(n=>!Number.isNaN(n)).reduce((n,a)=>n+a,0);return l==this.number?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:M.Medium,message:`The digits in your password must add up to ${this.number}, not ${l}.`}}}function Z(s){return!Number.isNaN(s.getTime())}function S(s){let e=[];for(let l=0;l<s.length;l++)for(let n=l;n<=s.length;n++){const a=new Date(s.slice(l,n));Z(a)&&e.push(a)}return e}class ee extends V{get ruleText(){return"Your password must include todays date. (Based on your browsers locale.)"}constructor(e){super(e)}satisfies(){const e=new Date;return S(this.password.text).some(n=>n.getUTCDate()==e.getUTCDate()&&n.getUTCMonth()==e.getUTCMonth()&&n.getUTCFullYear()==e.getUTCFullYear())?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:M.VeryHigh}}}class te extends V{constructor(l,n){super(l);T(this,"maxLength");this.maxLength=n}get ruleText(){return`Your password must be at most ${this.maxLength} characters.`}satisfies(){return this.password.text.length<=this.maxLength?{rule:this,satisfied:!0}:{rule:this,satisfied:!1,severity:M.VeryHigh}}}function k(s,e,l){const n=s.slice();return n[7]=e[l],n}function E(s,e,l){const n=s.slice();return n[7]=e[l],n}function se(s){let e,l,n,a,h=L(s[1]),u=[];for(let t=0;t<h.length;t+=1)u[t]=H(E(s,h,t));let d=L(s[2]),r=[];for(let t=0;t<d.length;t+=1)r[t]=U(k(s,d,t));return{c(){e=v("div"),l=v("div");for(let t=0;t<u.length;t+=1)u[t].c();n=z(),a=v("div");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=x(t,"DIV",{id:!0});var o=D(e);l=x(o,"DIV",{id:!0,class:!0});var i=D(l);for(let p=0;p<u.length;p+=1)u[p].l(i);i.forEach(f),n=q(o),a=x(o,"DIV",{id:!0,class:!0});var c=D(a);for(let p=0;p<r.length;p+=1)r[p].l(c);c.forEach(f),o.forEach(f),this.h()},h(){g(l,"id","password-not-satisfied"),g(l,"class","svelte-nqxcz9"),g(a,"id","password-satisfied"),g(a,"class","svelte-nqxcz9"),g(e,"id","password-rules")},m(t,o){b(t,e,o),m(e,l);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(l,null);m(e,n),m(e,a);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,null)},p(t,o){if(o&2){h=L(t[1]);let i;for(i=0;i<h.length;i+=1){const c=E(t,h,i);u[i]?u[i].p(c,o):(u[i]=H(c),u[i].c(),u[i].m(l,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=h.length}if(o&4){d=L(t[2]);let i;for(i=0;i<d.length;i+=1){const c=k(t,d,i);r[i]?r[i].p(c,o):(r[i]=U(c),r[i].c(),r[i].m(a,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=d.length}},d(t){t&&f(e),I(u,t),I(r,t)}}}function ne(s){let e,l="You win!";return{c(){e=v("div"),e.textContent=l,this.h()},l(n){e=x(n,"DIV",{id:!0,class:!0,["data-svelte-h"]:!0}),G(e)!=="svelte-16nacee"&&(e.textContent=l),this.h()},h(){g(e,"id","win-message"),g(e,"class","svelte-nqxcz9")},m(n,a){b(n,e,a)},p:y,d(n){n&&f(e)}}}function H(s){let e,l,n=s[7].index+1+"",a,h,u=(s[7].message??s[7].rule.ruleText)+"",d;return{c(){e=v("div"),l=_("Rule #"),a=_(n),h=_(": "),d=_(u)},l(r){e=x(r,"DIV",{});var t=D(e);l=w(t,"Rule #"),a=w(t,n),h=w(t,": "),d=w(t,u),t.forEach(f)},m(r,t){b(r,e,t),m(e,l),m(e,a),m(e,h),m(e,d)},p(r,t){t&2&&n!==(n=r[7].index+1+"")&&N(a,n),t&2&&u!==(u=(r[7].message??r[7].rule.ruleText)+"")&&N(d,u)},d(r){r&&f(e)}}}function U(s){let e,l,n=s[7].index+1+"",a,h,u=s[7].rule.ruleText+"",d;return{c(){e=v("div"),l=_("Rule #"),a=_(n),h=_(": "),d=_(u)},l(r){e=x(r,"DIV",{});var t=D(e);l=w(t,"Rule #"),a=w(t,n),h=w(t,": "),d=w(t,u),t.forEach(f)},m(r,t){b(r,e,t),m(e,l),m(e,a),m(e,h),m(e,d)},p(r,t){t&4&&n!==(n=r[7].index+1+"")&&N(a,n),t&4&&u!==(u=r[7].rule.ruleText+"")&&N(d,u)},d(r){r&&f(e)}}}function le(s){let e,l,n,a,h;function u(t,o){return t[1].length==0?ne:se}let d=u(s),r=d(s);return{c(){e=v("div"),l=z(),r.c(),n=C(),this.h()},l(t){e=x(t,"DIV",{id:!0,contenteditable:!0,spellcheck:!0,class:!0}),D(e).forEach(f),l=q(t),r.l(t),n=C(),this.h()},h(){g(e,"id","password-input"),g(e,"contenteditable","true"),g(e,"spellcheck","false"),g(e,"class","svelte-nqxcz9")},m(t,o){b(t,e,o),s[4](e),b(t,l,o),r.m(t,o),b(t,n,o),a||(h=R(e,"input",s[3]),a=!0)},p(t,[o]){d===(d=u(t))&&r?r.p(t,o):(r.d(1),r=d(t),r&&(r.c(),r.m(n.parentNode,n)))},i:y,o:y,d(t){t&&(f(e),f(l),f(n)),s[4](null),r.d(t),a=!1,h()}}}function Y(s,e){return Math.floor(Math.random()*(e-s+1)+s)}function re(s,e,l){let n=new K,a=[new Q(n,Y(5,10)),new te(n,100),new W(n),new X(n,Y(40,60)),new ee(n)],h,u=[],d=[];function r(){n.text=h.innerText;let o=[];for(let i=0;i<a.length;i++){const p=a[i].satisfies();o.push({...p,index:i})}l(2,d=o.filter(i=>i.satisfied)),l(1,u=o.filter(i=>!i.satisfied).sort((i,c)=>((c==null?void 0:c.severity)??99999)-((i==null?void 0:i.severity)??99999)))}$(()=>{r()});function t(o){F[o?"unshift":"push"](()=>{h=o,l(0,h)})}return[h,u,d,r,t]}class de extends O{constructor(e){super(),B(this,e,re,le,A,{})}}export{de as component,oe as universal};
